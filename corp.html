<!DOCTYPE html>
<html>
<head>
	<title>CORP APPLICATION TEST</title>
</head>
<body>
</body>
<script>


	// Q1 - Day-to-day programming (approx. 15 minutes)
	// struct Post:
	// id: int
	// description: string
	// owner: User
	// image: string
	// created_at: int
	// liked: boolean

	// def get_posts(user_id: int, post_ids: List[int]) -> List[Post]:

	function get_posts(user_id, post_ids){
		// let db_posts = SELECT * FROM post WHERE id IN post_ids
		let db_posts = [];

		return db_posts.map((post)=>{
			if(post_ids.includes(post.id)) return post;
			return {id: null,
				description:null, 
				owner:null, 
				image:null, 
				created_at:null, 
				liked:null,
			}
		})
	}

	
	//Q2 - Algorithmic design
	// struct Post:
 //   id: int
 //   description: string
 //   image: string
 //   created_at: int

	// def merge_posts(list_of_posts: List[List[Post]]) -> List[Post]:

	function merge_posts(list_of_list_of_post){
		let unique = [];
		for (let m = 0; m < list_of_list_of_post.length; m++) {
			for (let n = 0; n < list_of_list_of_post[m].length; n++) {
				if(unique.find((data)=>data.id == list_of_list_of_post[m][n].id)){
					continue;
				}
				unique.push(list_of_list_of_post[m][n])
			};
		}; 

		return  unique.sort((a,b)=>{
			return a.created_at > b.created_at?-1:
			(a.created_at == b.created_at?
				(a.id > b.id?-1:(a.id == b.id?0:1)) : 1
			)
		});
	}

 // Testing Data
let arr = [
		[
			{id: 1,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2021-06-05'
			},
			{id: 3,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2021-07-05'
			},
			{id: 2,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2020-06-05'
			}
		],
		[
			{id: 1,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2021-06-05'
			},
			{id: 5,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2021-06-05'
			},
			{id: 4,
			   description: 'hjhj',
			   image: 'jghjhjhjhjhuiu',
			   created_at: '2021-04-05'
			},
		]
	]
	 
	 console.log(merge_posts(arr))
</script>
</html>